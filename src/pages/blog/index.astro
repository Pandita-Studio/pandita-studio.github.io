---
import Main from "@layouts/Main.astro";
import Navbar from "@components/Navbar.astro";
import Footer from "@components/Footer.astro";
import PostPreview from "@components/blog/PostPreview.astro";

import { getCollection } from "astro:content";

let blogPosts = await getCollection("blog");

blogPosts = blogPosts.sort(
  (a, b) => b.data.publishDate.getTime() - a.data.publishDate.getTime()
);
---

<Main title="Pandita | Blog">
	<Navbar />

	<div class="w-screen min-h-screen mt-40 lg:mt-30">
		<div class="w-full flex items-center justify-center">
			<div class="w-full p-4 max-w-6xl">
				<div class="w-full lg:flex flex-row gap-10">
					<div class="flex-1/3 mb-10">
						<div
							class="orbitron-regular tracking-widest text-3xl lg:text-4xl text-center lg:text-right [text-shadow:_3px_3px_0px_rgba(5,213,255,0.5)]"
						>
							BLOG
						</div>
						<div class="mt-5 text-center lg:text-right">
							Our blog is a space to share news related to our
							games.
						</div>
					</div>
					<div class="flex-2/3">
						{
							blogPosts.map(async (post) => {
								return <PostPreview postSlug={post.slug} />;
							})
						}
					</div>
				</div>
			</div>
		</div>
	</div>

	<Footer />
</Main>
