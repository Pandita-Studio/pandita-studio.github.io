---
import Main from "@layouts/Main.astro";
import Navbar from "@components/Navbar.astro";
import Footer from "@components/Footer.astro";

import { getCollection, render } from "astro:content";

export async function getStaticPaths() {
	const posts = await getCollection("blog");
	return posts.map((post) => ({
		params: { id: post.slug },
		props: { post },
	}));
}

const { post } = Astro.props;
const { Content } = await render(post);
---

<Main>
	<Navbar />

	<div class="w-screen min-h-screen pt-30">
		<div class="w-full flex items-center justify-center">
			<div class="max-w-4xl">
				<div class="text-2xl font-bold">
					{post.data.title}
				</div>
				<div class="mt-5 space-y-4">
					<Content />
				</div>
			</div>
		</div>
	</div>

	<Footer />
</Main>
